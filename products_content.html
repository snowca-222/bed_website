<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>製床所御品 - 御柴客服</title>
        <script src="js/jquery-2.2.4.min.js"></script>
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/layout.css">
    </head>
    <body>
        <header></header>
        <main>
            <div class="banner" id="products_banner">
                <div class="logo"><img src="images/straight_logo.png" alt="logo"></div>
                <div class="slogan_text">隨心搭配，打造專屬風格</div>
            </div>
            <section id="products_page" class="container">
                <nav id="breadcrumb_nav"></nav>
                <div id="products_box" class="clearfix">
                    <div id="product_mainPhoto" class="grid-col-mb-12 grid-col-m-6"><div>商品圖</div></div>
                    <div id="product_information" class="grid-col-mb-12 grid-col-m-6">
                        <div id="priceBox" class="grid-col-m-6">
                            <div>
                                <div class="item_price">$<span>24,900</span></div>
                                <div>床墊尺寸
                                    <select>
                                        <option disabled selected>請選擇</option>
                                        <option value="3">3呎</option>
                                        <option value="3.5">3.5呎</option>
                                        <option value="5">5呎</option>
                                        <option value="6">6呎</option>
                                        <option value="7">7呎</option>
                                    </select>
                                </div>
                                <div id="lineBox">line 洽詢客服</div>
                            </div>
                        </div>
                        <div id="sizeBox" class="grid-col-m-6">
                            <div>
                                <div id="item_name"></div>
                                <ul>
                                    <li>
                                        <div class="size_name">3呎</div>
                                        <div class="size_cm">寬 91 公分 / 深 188 公分</div>
                                    </li>
                                    <li>
                                        <div class="size_name">3.5呎</div>
                                        <div class="size_cm">寬 106 公分 / 深 188 公分</div>
                                    </li>
                                    <li>
                                        <div class="size_name">5呎</div>
                                        <div class="size_cm">寬 152 公分 / 深 188 公分</div>
                                    </li>
                                    <li>
                                        <div class="size_name">6呎</div>
                                        <div class="size_cm">寬 182 公分 / 深 188 公分</div>
                                    </li>
                                    <li>
                                        <div class="size_name">7呎</div>
                                        <div class="size_cm">寬 182 公分 / 深 212 公分</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="item_content">
                    <!-- <img src="images/products/product_01.jpg"> -->
                </div>
            </section>
        </main>
        <footer></footer>
    </body>
    <script>
        let this_page = 'products_page';
    </script>
    <script type="module" src="js/js_template.js"></script>
    <script type="module" src="js/template/breadcrumb_module.js"></script>
    <script>
        const product_url = location.href;
        if(product_url.indexOf('?') != -1){
            const product_id = product_url.split('?')[1];
            fetch(`json/products/${product_id}.json`)
            .then(res => {
                return res.json()
            })
            .then(itemData =>{
                console.log(itemData)
                document.getElementById('item_name').innerHTML = itemData.name; // 置入名稱
                document.getElementById('product_mainPhoto').innerHTML = `<img src="${itemData.itemImg}" alt="${itemData.name}">`;

                let itemContent = ``;
                itemData.content.forEach(itemImg => {
                    itemContent += `<img src="images/products/${itemImg}">`                    
                });
                document.getElementById('item_content').innerHTML = itemContent; // 置入圖片
                
                setTimeout(function(){
                    $('#breadcrumb_nav ol').append(`<li>${itemData.name}</li>`)
                },100)
            })
        }
    </script>
    

</html>